# âœ… Best Practices for Writing Ansible Playbooks

---

## ðŸŽ¯ Why Follow Best Practices?

Following best practices helps in:

- Keeping playbooks **organized**
- Making playbooks **reusable**
- Easier to **maintain and debug**
- Supporting **team collaboration**

---

## ðŸ”‘ When to Use Single vs Multiple Playbooks

| Situation | Recommendation |
|----------|----------------|
| Small Infrastructure / Quick Tasks | âœ… Use a **single playbook** |
| Medium to Large / Complex Infrastructure | âœ… Use **multiple playbooks**, grouped by service/module |

> Similar to how we structure Terraform with separate files for variables, providers, and resources â€” we should structure Ansible the same way.

---

## ðŸ“ Project Directory Structure

A good directory structure helps in organizing playbooks and related files.

### Example Structure:
```
my-ansible-project/
â”œâ”€â”€ inventory/
â”‚   â””â”€â”€ hosts.ini
â”œâ”€â”€ playbooks/
â”‚   â””â”€â”€ site.yml
â”œâ”€â”€ roles/
â”‚   â”œâ”€â”€ webserver/
â”‚   â””â”€â”€ database/
â”œâ”€â”€ group_vars/
â”‚   â””â”€â”€ all.yml
â””â”€â”€ ansible.cfg
```

---

## ðŸ“ Inventory Files

### ðŸ”¹ Default Inventory File
- Located at: `/etc/ansible/hosts`
- Not recommended to modify for projects

```bash
cat /etc/ansible/hosts
```

### ðŸ”¹ Project-Specific Inventory
- Create your own for each project
- Example usage:

```bash
ansible-playbook -i inventory/hosts.ini playbooks/site.yml
```

> âœ… Creating your own inventory file avoids disturbing the global/default configuration.

---

## ðŸ’¡ Notes on Default Inventory File

- Some OS (like **Amazon Linux**) may not have the default `/etc/ansible/hosts` file.
- Thatâ€™s **normal** â€“ youâ€™re expected to create your own inventory file.

---

## ðŸ§± Best Practice Checklist

| Step | Description |
|------|-------------|
| 1ï¸âƒ£ | Create a separate **project folder** |
| 2ï¸âƒ£ | Use **project-specific inventory** files |
| 3ï¸âƒ£ | Group tasks into separate **playbooks** |
| 4ï¸âƒ£ | Use **roles** to organize tasks (explained next) |
| 5ï¸âƒ£ | Keep variables in **group_vars/ or host_vars/** |
| 6ï¸âƒ£ | Don't modify the **default inventory file** |

---

## ðŸ“¦ Coming Up: What are Roles?

> Next, weâ€™ll explore **Ansible Roles** â€“ a powerful way to break down playbooks into reusable components (like in object-oriented programming).
